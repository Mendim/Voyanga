// Generated by CoffeeScript 1.3.3

ko.extenders.integerOnly = function(target, config) {
  return ko.computed({
    read: target,
    write: function(newValue) {
      var current, valueToWrite;
      current = target();
      valueToWrite = parseInt(newValue);
      if (isNaN(valueToWrite) || valueToWrite < 0) {
        valueToWrite = 0;
      }
      if (config.max) {
        if (valueToWrite < config.min) {
          valueToWrite = config.min;
        }
        if (valueToWrite > config.max) {
          valueToWrite = config.max;
        }
      }
      if (valueToWrite !== current) {
        target(valueToWrite);
      }
      if (newValue !== current) {
        return target.notifySubscribers(valueToWrite);
      }
    }
  });
};
