// Generated by CoffeeScript 1.3.3

ko.bindingHandlers.singleSlider = {
  init: function(element, valueAccessor) {
    var dimension, limits, value;
    value = ko.utils.unwrapObservable(valueAccessor().selection);
    limits = ko.utils.unwrapObservable(valueAccessor().limits);
    if (limits.from < 0) {
      limits.from = 0;
    }
    value = limits.to;
    dimension = $(element).data('dimension');
    if (dimension) {
      dimension = '&nbsp;' + dimension;
    }
    $(element).val(value);
    return $(element).jslider({
      from: limits.from,
      to: limits.to,
      dimension: dimension,
      skin: 'round_voyanga',
      scale: false,
      limits: false,
      round: 1,
      calculate: function(value) {
        var strVal;
        strVal = value.toString();
        if (strVal.length > 3) {
          strVal = strVal.substr(0, strVal.length - 3) + '&nbsp;' + strVal.substr(-3);
        }
        return strVal;
      },
      callback: function(newValue) {
        return valueAccessor().selection(newValue);
      }
    });
  },
  update: function(element, valueAccessor) {
    var s;
    s = $(element).data("jslider");
    return setTimeout(function() {
      return s.onresize();
    }, 5);
  }
};
