// Generated by CoffeeScript 1.3.3
var AviaPanel,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

AviaPanel = (function() {

  function AviaPanel() {
    this.selectRoundTrip = __bind(this.selectRoundTrip, this);

    this.selectOneWay = __bind(this.selectOneWay, this);

    var _this = this;
    this.rt = ko.observable(false);
    this.minimized = ko.observable(false);
    this.adults = ko.observable(2);
    this.childs = ko.observable(0);
    this.infants = ko.observable(4);
    this.overall = ko.computed(function() {
      return _this.adults() + _this.childs() + _this.infants();
    });
    this.rt.subscribe(function(newValue) {
      if (newValue) {
        return $('.tumblr .switch').animate({
          'left': '35px'
        }, 200);
      } else {
        return $('.tumblr .switch').animate({
          'left': '-1px'
        }, 200);
      }
    });
    this.minimized.subscribe(function(minimized) {
      var heightSubHead, speed;
      speed = 300;
      heightSubHead = $('.sub-head').height();
      if (!minimized) {
        return $('.sub-head').animate({
          'margin-top': '0px'
        }, speed);
      } else {
        return $('.sub-head').animate({
          'margin-top': '-' + (heightSubHead - 4) + 'px'
        }, speed);
      }
    });
    $(function() {
      $('.how-many-man .popup').find('input').hover(function() {
        $(this).parent().find('.plusOne').show();
        return $(this).parent().find('.minusOne').show();
      }, function() {
        $(this).parent().find('.plusOne').hide();
        return $(this).parent().find('.minusOne').hide();
      });
      $('.plusOne').hover(function() {
        $(this).addClass('active');
        return $('.minusOne').addClass('active');
      }, function() {
        $(this).removeClass('active');
        return $('.minusOne').removeClass('active');
      });
      $('.minusOne').hover(function() {
        $(this).addClass('active');
        return $('.plusOne').addClass('active');
      }, function() {
        $(this).removeClass('active');
        return $('.plusOne').removeClass('active');
      });
      $('.how-many-man .popup').find('input').focus(function() {
        $(this).attr('rel', $(this).val());
        $(this).val('3');
        console.log($(this));
        return $(this).trigger('change');
      });
      return $('.how-many-man .popup').find('input').blur(function() {
        if ($(this).val() === '') {
          $(this).val($(this).attr('rel'));
        }
        return $(this).trigger('change');
      });
    });
  }

  AviaPanel.prototype.selectOneWay = function() {
    return this.rt(false);
  };

  AviaPanel.prototype.selectRoundTrip = function() {
    return this.rt(true);
  };

  AviaPanel.prototype.minimize = function() {
    if (this.minimized()) {
      return this.minimized(false);
    } else {
      return this.minimized(true);
    }
  };

  AviaPanel.prototype.plusOne = function(observable) {
    var var_valCount;
    console.log(observable);
    e.preventDefault();
    var_valCount = Math.abs(parseInt($(this).parent().find('input').val()));
    var_valCount++;
    $(this).parent().find('input').val(var_valCount);
    return changeAdultsCount();
  };

  AviaPanel.prototype.minusOne = function(data) {
    var var_valCount;
    var_valCount = Math.abs(parseInt($(this).parent().find('input').val()));
    var_valCount--;
    if (var_valCount < 1) {
      var_valCount = 1;
    }
    return $(this).parent().find('input').val(var_valCount);
  };

  return AviaPanel;

})();

/*
$(function() {

function initPeoplesInputs() {
  $('.how-many-man .popup').find('input').eq(0).keyup(changeAdultsCount);
  $('.how-many-man .popup').find('input').eq(1).keyup(changeChildCount);
  $('.how-many-man .popup').find('input').eq(2).keyup(changeInfantCount);

  
 
}
});
*/

